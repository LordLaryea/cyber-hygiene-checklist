<!DOCTYPE html>
<html>
<head>
  <title>Cyber Hygiene Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      transition: background-color 0.3s, color 0.3s;
    }

    .dashboard {
      max-width: 500px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transition: background 0.3s, color 0.3s;
    }

    h2, .time {
      text-align: center;
      color: #1976d2;
    }

    .time {
      font-weight: bold;
      margin-top: -10px;
      margin-bottom: 20px;
    }

    .checklist {
      margin-top: 20px;
    }

    .checklist label {
      display: block;
      margin-bottom: 10px;
      font-size: 16px;
    }

    .checklist input[type="checkbox"] {
      transform: scale(1);
      transition: transform 0.2s ease;
      margin-right: 8px;
    }

    .checklist input[type="checkbox"]:checked {
      transform: scale(1.3);
    }

    .reminder {
      margin-top: 25px;
      padding: 15px;
      background: #fff8e1;
      border-left: 6px solid #ffb300;
      border-radius: 6px;
    }

    #dailyTip {
      margin-top: 25px;
      padding: 15px;
      background: #e0f7fa;
      border-left: 6px solid #00acc1;
      border-radius: 6px;
    }

    button {
      margin-top: 15px;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      width: 100%;
      font-weight: bold;
      cursor: pointer;
    }

    button.logout {
      background: #d32f2f;
      color: white;
    }

    button.logout:hover { background: #b71c1c; }

    button#toggleMode {
      background: #1976d2;
      color: white;
    }

    button#toggleMode:hover {
      background: #115293;
    }

    button#resetChecklist {
      background: #ff9800;
      color: white;
    }

    button#resetChecklist:hover {
      background: #fb8c00;
    }

    /* DARK MODE STYLES */
    body.dark-mode {
      background-color: #121212;
      color: #e0e0e0;
    }

    .dashboard.dark-mode {
      background: #1e1e1e;
      color: #e0e0e0;
      box-shadow: 0 4px 12px rgba(255,255,255,0.05);
    }

    .reminder.dark-mode {
      background: #2e2e2e;
      border-left-color: #fdd835;
    }

    #dailyTip.dark-mode {
      background: #263238;
      border-left-color: #00bcd4;
    }
  </style>
</head>
<body>
  <div class="dashboard" id="dashBox">
    <h2><span id="greeting">Welcome</span>, <span id="username">User</span>!</h2>
    <div class="time" id="currentTime">üïí Loading current time...</div>

    <button id="toggleMode" onclick="toggleDarkMode()">üåì Toggle Dark Mode</button>

    <div class="checklist">
      <h3>üõ°Ô∏è Daily Cyber Hygiene Checklist</h3>
      <label><input type="checkbox" onchange="saveCheck(0)"> Update antivirus</label>
      <label><input type="checkbox" onchange="saveCheck(1)"> Clear browser history</label>
      <label><input type="checkbox" onchange="saveCheck(2)"> Check spam folder</label>
      <label><input type="checkbox" onchange="saveCheck(3)"> Lock your device</label>
    </div>

    <button id="resetChecklist" onclick="resetChecklist()">üîÑ Reset Checklist</button>

    <div class="reminder" id="reminderBox">
      <strong>üîî Weekly Reminder:</strong> Don‚Äôt forget to update all your passwords regularly!
    </div>

    <div id="dailyTip">
      <strong>üß† Cyber Tip of the Day:</strong>
      <p id="tipText">Loading tip‚Ä¶</p>
    </div>

    <button class="logout" onclick="logout()">üîí Logout</button>
  </div>

  <script>
    function saveCheck(index) {
      const checks = JSON.parse(localStorage.getItem("checks") || "[]");
      const boxes = document.querySelectorAll("input[type='checkbox']");
      checks[index] = boxes[index].checked;
      localStorage.setItem("checks", JSON.stringify(checks));
    }

    function resetChecklist() {
      const boxes = document.querySelectorAll("input[type='checkbox']");
      boxes.forEach(box => box.checked = false);
      localStorage.removeItem("checks");
    }

    function logout() {
      localStorage.removeItem("user");
      localStorage.removeItem("checks");
      window.location.href = "index.html";
    }

    const tips = [
      "Always use two-factor authentication.",
      "Avoid clicking on suspicious email links.",
      "Back up your data regularly.",
      "Use strong, unique passwords for every account.",
      "Don't use public Wi-Fi without a VPN.",
      "Keep your software and apps up to date.",
      "Log out from shared or public devices.",
      "Use a password manager to store your credentials."
    ];

    function showRandomTip() {
      const tip = tips[Math.floor(Math.random() * tips.length)];
      document.getElementById("tipText").textContent = tip;
    }

    function showReminder() {
      alert("üîî Reminder:\nTime to check for app updates and run antivirus scan!");
    }

    function toggleDarkMode() {
      document.body.classList.toggle("dark-mode");
      document.getElementById("dashBox").classList.toggle("dark-mode");
      document.getElementById("dailyTip").classList.toggle("dark-mode");
      document.getElementById("reminderBox").classList.toggle("dark-mode");
      const isDark = document.body.classList.contains("dark-mode");
      localStorage.setItem("darkMode", isDark);
    }

    function setGreeting() {
      const hour = new Date().getHours();
      let greet = "Welcome";
      if (hour < 12) greet = "Good morning";
      else if (hour < 17) greet = "Good afternoon";
      else greet = "Good evening";
      document.getElementById("greeting").textContent = greet;
    }

    function updateTime() {
      const now = new Date();
      const h = now.getHours();
      const hours = h % 12 || 12;
      const minutes = now.getMinutes().toString().padStart(2, '0');
      const seconds = now.getSeconds().toString().padStart(2, '0');
      const ampm = h >= 12 ? 'PM' : 'AM';
      document.getElementById("currentTime").textContent =
        `üïí Current Time: ${hours}:${minutes}:${seconds} ${ampm}`;
    }

    window.onload = function () {
      const user = localStorage.getItem("user") || "User";
      document.getElementById("username").textContent = user;

      const checks = JSON.parse(localStorage.getItem("checks") || "[]");
      const boxes = document.querySelectorAll("input[type='checkbox']");
      checks.forEach((v, i) => { if (boxes[i]) boxes[i].checked = v });

      setGreeting();
      showRandomTip();
      updateTime();
      setInterval(updateTime, 1000);
      setTimeout(showReminder, 1000);

      if (localStorage.getItem("darkMode") === "true") {
        toggleDarkMode();
      }
    };
  </script>
</body>
</html>