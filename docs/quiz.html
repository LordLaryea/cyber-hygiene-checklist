<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cyber Quiz</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f9f9;
      color: #222;
      padding: 20px;
    }
    .quiz-container {
      max-width: 700px;
      margin: auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }
    .question {
      font-weight: bold;
      margin-bottom: 10px;
    }
    .options label {
      display: block;
      margin-bottom: 8px;
      padding: 10px;
      background: #f1f1f1;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .options label:hover {
      background: #e0f7f4;
    }
    .correct {
      background-color: #c8facc !important;
    }
    .incorrect {
      background-color: #ffd1d1 !important;
    }
    .explanation {
      margin-top: 10px;
      padding: 10px;
      background: #e6f7ff;
      border-left: 4px solid #00bcd4;
    }
    .btn {
      margin-top: 20px;
      display: inline-block;
      padding: 10px 20px;
      background: #00bcd4;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    .score {
      font-size: 1.2em;
      margin-top: 15px;
    }
  </style>
</head>
<body>
<div class="quiz-container">
  <h2 id="quizTitle">Cyber Quiz 1</h2>
  <div id="quizBox"></div>
  <div class="score" id="scoreBox"></div>
  <button class="btn" id="nextBtn" onclick="nextQuestion()" style="display:none">Next</button>
</div>

<script>
const quiz1 = [
  {
    question: "Which of the following is the most secure password?",
    options: ["Password123", "Qwerty!", "Letmein!123", "tG7!mR@92#z"],
    answer: 3,
    explanation: "Strong passwords use uppercase, lowercase, numbers, and special characters."
  },
  {
    question: "What is phishing?",
    options: ["A firewall technique", "A way of monitoring traffic", "A method to steal sensitive data via fake emails", "An antivirus scan"],
    answer: 2,
    explanation: "Phishing tricks users into revealing private info using fake emails or sites."
  },
  {
    question: "Which of these is a good cyber hygiene habit?",
    options: ["Using one password for all accounts", "Clicking links in unknown emails", "Updating software regularly", "Turning off antivirus"],
    answer: 2,
    explanation: "Keeping software updated patches vulnerabilities."
  },
  {
    question: "What does 2FA stand for?",
    options: ["Two-Factor Authentication", "Two File Access", "Trusted Firewall Authorization", "Two-Faced Access"],
    answer: 0,
    explanation: "2FA adds an extra layer of security using something you know and something you have."
  },
  {
    question: "Which file extension is most risky to open from an email?",
    options: [".jpg", ".pdf", ".exe", ".txt"],
    answer: 2,
    explanation: ".exe files can execute code and install malicious software."
  }
];

let currentQuiz = quiz1;
let currentIndex = 0;
let score = 0;

function loadQuestion() {
  const quizBox = document.getElementById("quizBox");
  document.getElementById("nextBtn").style.display = "none";
  const q = currentQuiz[currentIndex];
  quizBox.innerHTML = `
    <div class="question">${q.question}</div>
    <div class="options">
      ${q.options.map((opt, i) => `<label><input type='radio' name='option' value='${i}' onchange='checkAnswer(${i})'> ${opt}</label>`).join('')}
    </div>
    <div id='explanationBox'></div>
  `;
}

function checkAnswer(selected) {
  const q = currentQuiz[currentIndex];
  const labels = document.querySelectorAll(".options label");
  labels.forEach((label, index) => {
    label.classList.remove("correct", "incorrect");
    if (index == q.answer) label.classList.add("correct");
    if (index == selected && index != q.answer) label.classList.add("incorrect");
  });

  if (selected == q.answer) score++;

  document.getElementById("explanationBox").innerHTML = `<div class='explanation'>${q.explanation}</div>`;
  document.getElementById("nextBtn").style.display = "inline-block";
}

function nextQuestion() {
  currentIndex++;
  if (currentIndex < currentQuiz.length) {
    loadQuestion();
  } else {
    document.getElementById("quizBox").innerHTML = "<h3>âœ… Quiz Completed</h3>";
    document.getElementById("scoreBox").textContent = `Your score: ${score}/${currentQuiz.length}`;
    localStorage.setItem("quiz1Score", score);

    // Replace Next button with "Go to Dashboard"
    const nextBtn = document.getElementById("nextBtn");
    nextBtn.textContent = "Go to Dashboard";
    nextBtn.onclick = () => {
      window.location.href = "dashboard.html";
    };
    nextBtn.style.display = "inline-block";
  }
}

window.onload = loadQuestion;
</script>
</body>
</html>
